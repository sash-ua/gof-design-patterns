{"version":3,"sources":["webpack:///./src/app/modules/structural/composite/components/composite.component.css","webpack:///./src/app/modules/structural/composite/components/composite.component.html","webpack:///./src/app/modules/structural/composite/components/composite.component.ts","webpack:///./src/app/modules/structural/composite/composite-routing.module.ts","webpack:///./src/app/modules/structural/composite/composite.module.ts","webpack:///./src/app/modules/structural/composite/services/composite.service.ts","webpack:///./src/app/modules/structural/composite/services/composite/composite.ts"],"names":[],"mappings":"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","file":"modules-structural-composite-composite-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"<app-pattern [patternCompData]=\\\"patternCompData\\\"></app-pattern>\\n\"","import {Component} from '@angular/core';\nimport {ELEMENTS} from '../../../../elements';\nimport {LINKS} from '../../../../LINKS';\nimport {CompositeService} from '../services/composite.service';\nimport {GetGitContentService} from '../../../../core/services/http/get-git-content.service';\nimport {map} from 'rxjs/operators';\nimport {Observable} from 'rxjs';\nimport {PatternConfig} from '../../../shared/components/pattern/pattern.component';\nimport {InterpreterService} from '../../../behavioral/interpreter/services/interpreter.service';\n\n@Component({\n  selector: 'app-composite',\n  templateUrl: './composite.component.html',\n  styleUrls: ['./composite.component.css']\n})\nexport class CompositeComponent {\n  public patternCompData: PatternConfig = {\n    gitLink: LINKS.structural.composite.gitApiLink,\n    wikiLink: LINKS.structural.composite.wikiLink,\n    sampleLink: LINKS.structural.composite.sampleLink,\n    linkName: ELEMENTS.linkToSampleName,\n    sample: ELEMENTS.sampleTitle\n  };\n\n  constructor(private comp: CompositeService, private http: GetGitContentService, private interpreter: InterpreterService) {\n    this.comp.composite();\n    const content$: Observable<string> = this.http.getData(this.patternCompData.gitLink).pipe(\n      map((resp: any) => {\n        return resp ? this.interpreter.interpreter(atob(resp.content)) : null;\n      })\n    );\n    this.patternCompData = Object.assign(this.patternCompData, {content$});\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {CompositeComponent} from './components/composite.component';\n\nconst routes: Routes = [\n  {path: '', component: CompositeComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CompositeRoutingModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CompositeComponent } from './components/composite.component';\nimport {CompositeRoutingModule} from './composite-routing.module';\nimport {SharedModule} from '../../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CompositeRoutingModule,\n    SharedModule\n  ],\n  declarations: [CompositeComponent]\n})\nexport class CompositeModule { }\n","import {Injectable} from '@angular/core';\nimport {composite} from './composite/composite';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CompositeService {\n\n  constructor() {\n  }\n\n  composite() {\n    composite();\n  }\n}\n","export function composite() {\r\n  const picture = new ComplexEl('Root');\r\n  const line = new PrimitiveEl('line');\r\n  const circle = new PrimitiveEl('circle');\r\n  const pip = new ComplexEl('canvas1');\r\n  const lineInPip = new PrimitiveEl('line');\r\n  const outPictureEl = new PrimitiveEl('out');\r\n  pip.addElement(lineInPip);\r\n  picture.addElement(line);\r\n  picture.addElement(circle);\r\n  picture.addElement(pip);\r\n  // console.log(picture.getChild(line));\r\n  // console.log(picture.getChildren());\r\n  // console.log(picture.getChild(outPictureEl));\r\n}\r\n\r\ninterface ElState {\r\n  rawName: string;\r\n  name: Symbol;\r\n  msg: string;\r\n  errMsg: string;\r\n  renderer: Array<string>;\r\n}\r\n\r\ninterface Graphic {\r\n  state: ElState;\r\n\r\n  addElement(elem: Graphic): void | Error;\r\n\r\n  drawEl(): void;\r\n\r\n  getChild(elem: Graphic): Graphic | Error;\r\n\r\n  getChildren(): Map<Symbol, Graphic> | Error;\r\n\r\n  removeEl(): void | Error;\r\n}\r\n\r\nabstract class VectorGraphicEl implements Graphic {\r\n  protected _state: ElState = {\r\n    rawName: '',\r\n    name: Symbol(),\r\n    msg: '',\r\n    errMsg: 'No such method',\r\n    renderer: []\r\n  };\r\n  abstract drawEl(): void;\r\n\r\n  public get state() {\r\n    return this._state;\r\n  }\r\n\r\n  public addElement(elem: Graphic): void | Error {\r\n    return new Error(this.state.errMsg);\r\n  }\r\n\r\n  public getChild(elem: Graphic): Graphic | Error {\r\n    return new Error(this.state.errMsg);\r\n  }\r\n\r\n  public getChildren(): Map<Symbol, Graphic> | Error {\r\n    return new Error(this.state.errMsg);\r\n  }\r\n\r\n  public removeEl(): void | Error {\r\n    return new Error(this.state.errMsg);\r\n  }\r\n}\r\n\r\nclass PrimitiveEl extends VectorGraphicEl {\r\n  constructor(name: string) {\r\n    super();\r\n    this.state.name = Symbol(name);\r\n    this.state.msg = `Element ${name} rendered`;\r\n    this.state.rawName = name;\r\n    this.drawEl();\r\n  }\r\n\r\n  public drawEl(): void {\r\n    this.state.renderer.push(this.state.msg);\r\n  }\r\n}\r\n\r\ninterface Node {\r\n  nodes: Map<Symbol, Graphic>;\r\n}\r\n\r\nexport class ComplexEl implements Graphic, Node {\r\n  protected _state: ElState = {\r\n    rawName: '',\r\n    name: Symbol(),\r\n    msg: '',\r\n    errMsg: 'No such method',\r\n    renderer: []\r\n  };\r\n\r\n  public nodes: Map<Symbol, Graphic> = new Map();\r\n\r\n  constructor(name: string) {\r\n    this.state.name = Symbol(name);\r\n    this.state.msg = `Complex element ${name} rendered`;\r\n    this.drawEl();\r\n    this.state.rawName = name;\r\n  }\r\n  public get state() {\r\n    return this._state;\r\n  }\r\n\r\n  public drawEl(): void {\r\n    this.state.renderer.push(this.state.msg);\r\n  }\r\n\r\n  public addElement(elem: Graphic): void | Error {\r\n    this.nodes.set(elem.state.name, elem);\r\n  }\r\n\r\n  public getChild(elem: Graphic): Graphic | Error {\r\n    const n: ElState = elem.state;\r\n    return this.nodes.has(n.name) ? this.nodes.get(n.name) : new Error(`Element \\'${n.rawName}\\' does not exists!`);\r\n  }\r\n\r\n  public getChildren(): Map<Symbol, Graphic> | Error {\r\n    return this.nodes;\r\n  }\r\n\r\n  public removeEl(): void | Error {\r\n    this.nodes.delete(this.state.name);\r\n  }\r\n}\r\n"],"sourceRoot":""}