{"version":3,"sources":["webpack:///./src/app/modules/behavioral/command/command-routing.module.ts","webpack:///./src/app/modules/behavioral/command/command.module.ts","webpack:///./src/app/modules/behavioral/command/components/command.component.css","webpack:///./src/app/modules/behavioral/command/components/command.component.html","webpack:///./src/app/modules/behavioral/command/components/command.component.ts","webpack:///./src/app/modules/behavioral/command/services/calculator.service.ts","webpack:///./src/app/modules/behavioral/command/services/command/command.ts"],"names":[],"mappings":"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","file":"modules-behavioral-command-command-module.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {CommandComponent} from './components/command.component';\n\nconst routes: Routes = [\n  {path: '', component: CommandComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CommandRoutingModule {\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CommandComponent } from './components/command.component';\nimport {CommandRoutingModule} from './command-routing.module';\nimport {SharedModule} from '../../shared/shared.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CommandRoutingModule,\n    SharedModule\n  ],\n  declarations: [CommandComponent]\n})\nexport class CommandModule { }\n","module.exports = \"\"","module.exports = \"<app-pattern [patternCompData]=\\\"patternCompData\\\"></app-pattern>\\n\"","import { Component} from '@angular/core';\nimport {ELEMENTS} from '../../../../elements';\nimport {LINKS} from '../../../../LINKS';\nimport {CalculatorService} from '../services/calculator.service';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {GetGitContentService} from '../../../../core/services/http/get-git-content.service';\nimport {PatternConfig} from '../../../shared/components/pattern/pattern.component';\nimport {InterpreterService} from '../../interpreter/services/interpreter.service';\n\n@Component({\n  selector: 'app-command',\n  templateUrl: './command.component.html',\n  styleUrls: ['./command.component.css']\n})\nexport class CommandComponent {\n  public patternCompData: PatternConfig = {\n    gitLink: LINKS.behavioral.command.gitApiLink,\n    wikiLink: LINKS.behavioral.command.wikiLink,\n    sampleLink: LINKS.behavioral.command.sampleLink,\n    linkName: ELEMENTS.linkToSampleName,\n    sample: ELEMENTS.sampleTitle\n  };\n\n  constructor(private calc: CalculatorService, private http: GetGitContentService, private interpreter: InterpreterService) {\n    this.calc.calculator();\n    const content$: Observable<string> = this.http.getData(this.patternCompData.gitLink).pipe(\n      map((resp: any) => {\n        return resp ? this.interpreter.interpreter(atob(resp.content)) : null;\n      })\n    );\n    this.patternCompData = Object.assign(this.patternCompData, {content$});\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {calculator} from './command/command';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CalculatorService {\n\n  constructor() {\n  }\n\n  public calculator() {\n    calculator();\n  }\n}\n","export function calculator() {\r\n  const calc = new CalculatorService();\r\n  // calc.add([1, 2]);\r\n  // calc.cashedResult(0);\r\n  // calc.sub([1, 2]);\r\n  // calc.div([1, 2]);\r\n  // calc.div([1, 0]);\r\n  // calc.mult([22, 2]);\r\n  // calc.undo();\r\n  // calc.mult([22, 3]);\r\n}\r\n\r\nexport class CalculatorService {\r\n  private calc: Receiver;\r\n  private controller: ControllerInvoker;\r\n\r\n  constructor() {\r\n    this.calc = new Receiver();\r\n    this.controller = new ControllerInvoker();\r\n  }\r\n\r\n  private run(arg: Command) {\r\n    return this.controller.execCommand(arg);\r\n  }\r\n\r\n  public undo(): void {\r\n    this.controller.before();\r\n  }\r\n\r\n  public redo() {\r\n    this.controller.after();\r\n  }\r\n\r\n  public clear() {\r\n    this.controller.clear();\r\n  }\r\n\r\n  public cashedResult(id) {\r\n    console.log(this.controller.cashedResult(id));\r\n  }\r\n\r\n  public add(args: [number, number]): void {\r\n    console.log(this.run(new Add(this.calc, args)));\r\n  }\r\n\r\n  public sub(args: [number, number]): void {\r\n    console.log(this.run(new Sub(this.calc, args)));\r\n  }\r\n\r\n  public div(args: [number, number]): void {\r\n    console.log(this.run(new Div(this.calc, args)));\r\n  }\r\n\r\n  public mult(args: [number, number]): void {\r\n    console.log(this.run(new Mult(this.calc, args)));\r\n  }\r\n}\r\n\r\nclass ControllerInvoker {\r\n  private stack: Map<number, Command>;\r\n  private indx = 0;\r\n\r\n  constructor() {\r\n    this.stack = new Map<number, Command>();\r\n  }\r\n\r\n  private saveToStack(arg: Command) {\r\n    this.stack.set(this.indx, arg);\r\n  }\r\n\r\n  public execCommand(arg: Command) {\r\n    this.saveToStack(arg);\r\n    return this.stack.get(this.indx++).execute();\r\n  }\r\n\r\n  cashedResult(id: number) {\r\n    return this.stack.has(id) ? this.stack.get(id).result : 'No check by the ID';\r\n  }\r\n\r\n  public before() {\r\n    this.indx = this.indx > 0 ? --this.indx : 0;\r\n  }\r\n\r\n  public after() {\r\n    const l = this.stack.size - 1;\r\n    this.indx = this.indx < l ? ++this.indx : l;\r\n  }\r\n\r\n  public clear() {\r\n    this.stack = new Map<number, Command>();\r\n  }\r\n}\r\n\r\nabstract class Command {\r\n  protected _result: number | string;\r\n  public get result(): number | string {\r\n    return this._result;\r\n  }\r\n\r\n  public set result(arg: number | string) {\r\n    this._result = arg;\r\n  }\r\n\r\n  abstract execute(): number | string;\r\n}\r\n\r\nclass Add extends Command {\r\n  constructor(protected arf: Receiver, public args: [number, number]) {\r\n    super();\r\n  }\r\n\r\n  execute(): number | string {\r\n    this.result = this.arf.run((args) => args[0] + args[1], this.args);\r\n    return this.result;\r\n  }\r\n}\r\n\r\nclass Sub extends Command {\r\n  constructor(protected arf: Receiver, public args: [number, number]) {\r\n    super();\r\n  }\r\n\r\n  execute(): number | string {\r\n    this.result = this.arf.run((args) => args[0] - args[1], this.args);\r\n    return this.result;\r\n  }\r\n}\r\n\r\nclass Div extends Command {\r\n  constructor(protected arf: Receiver, public args: [number, number]) {\r\n    super();\r\n  }\r\n\r\n  execute(): number | string {\r\n    this.result = this.arf.run((args) => args[1] !== 0 ? args[0] / args[1] : 'Cannot divide by zero', this.args);\r\n    return this.result;\r\n  }\r\n}\r\n\r\nclass Mult extends Command {\r\n  constructor(protected arf: Receiver, public args: [number, number]) {\r\n    super();\r\n  }\r\n\r\n  execute(): number | string {\r\n    this.result = this.arf.run((args) => args[0] * args[1], this.args);\r\n    return this.result;\r\n  }\r\n}\r\n\r\nclass Receiver {\r\n  public run(fn: Function, ...args: Array<any>): any {\r\n    return fn(...args);\r\n  }\r\n}\r\n"],"sourceRoot":""}